title = "formations"
url = "/formations"
layout = "default"
is_hidden = 0

[builderList]
modelClass = "Lfi\Formations\Models\Formation"
scope = "-"
displayColumn = "name"
noRecordsMessage = "No records found"
detailsPage = "formation-single"
detailsKeyColumn = "slug"
detailsUrlParameter = "slug"
pageNumber = "{{ :page }}"
==
{% set records = builderList.records %}
{% set displayColumn = builderList.displayColumn %}
{% set noRecordsMessage = builderList.noRecordsMessage %}
{% set detailsPage = builderList.detailsPage %}
{% set detailsKeyColumn = builderList.detailsKeyColumn %}
{% set detailsUrlParameter = builderList.detailsUrlParameter %}


<section id="layout-content" class="container clearfix">
	<div class="row section-title">
		<div class="col-sm-12 col-md-2">
			<h2>
				ME
				<br />
				FORMER
			</h2>
		</div>
		<div class="nav-table-formation col-sm-12 col-md-10">
			<div class="nav-row-formation">
				<div class="nav-formation">
					<span class="button-heading">Decouvrir</span><br />
					<span class="button-text">un metier</span>
				</div>
				<div class="nav-formation">
					<span class="button-heading">Developper</span><br />
					<span class="button-text">Mes competences</span>
				</div>
				<div class="nav-formation">
					<span class="button-heading">Obtenir</span><br />
					<span class="button-text">une habilitation</span>
				</div>
				<div class="nav-formation">
					<span class="button-heading">Obtenir</span><br />
					<span class="button-text">une certification</span>
				</div>
				<div class="nav-formation">
					<span class="button-heading">Valider</span><br />
					<span class="button-text">les acquis de mon experience</span>
				</div>
			</div>
		</div>
	</div>
	
	<div class="list-formations clearfix">
	    {% for record in records %}
	        <div class="col-xs-12">
	            {# Use spaceless tag to remove spaces inside the A tag. #}
	            {% spaceless %}
	                {% if detailsPage %}
	                    <a href="{{ detailsPage|page({ (detailsUrlParameter): attribute(record, detailsKeyColumn) }) }}">
	                {% endif %}
	
	                <h3>{{ record.name }}</h3>
	                              
	                {% if detailsPage %}
	                    </a>
	                {% endif %}
	            {% endspaceless %}
	            <img src="{{ record.meformer.thumb(320,350, {'mode':'crop'}) }}">
	            
	            {% for categorie in record.categories %}
	                <h4>{{categorie.formation_category}}</h4>
	            {% endfor %}
	
	            <div>{{ record.start }}</div>
	            <div>{{ record.end }}</div>
	        </div>
	    {% else %}
	        <div class="no-data">{{ noRecordsMessage }}</div>
	    {% endfor %}
	</div>
	
	<div class="row text-center">
		<a class="btn" href="#page-top">Plus de d√©tails</a>
	</div>

</section>

{% if records.lastPage > 1 %}
    <ul class="pagination">
        {% if records.currentPage > 1 %}
            <li><a href="{{ this.page.baseFileName|page({ (pageParam): (records.currentPage-1) }) }}">&larr; Prev</a></li>
        {% endif %}

        {% for page in 1..records.lastPage %}
            <li class="{{ records.currentPage == page ? 'active' : null }}">
                <a href="{{ this.page.baseFileName|page({ (pageParam): page }) }}">{{ page }}</a>
            </li>
        {% endfor %}

        {% if records.lastPage > records.currentPage %}
            <li><a href="{{ this.page.baseFileName|page({ (pageParam): (records.currentPage+1) }) }}">Next &rarr;</a></li>
        {% endif %}
    </ul>
{% endif %}